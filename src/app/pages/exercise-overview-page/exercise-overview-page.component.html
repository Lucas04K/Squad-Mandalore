<div id="page">
    <div id="content">
        <div id="headline-wrapper">
            <p class="headline">Übungskatalog</p>
        </div>
        <div id="exercises-container" [ngClass]="exercises.length === 0 ? 'border-1px-grey' : 'background-color-white'">
            <div id="exercises-header">
                <p class="headline-small" [ngClass]="{'paly': exercises.length === 0}">Verfügbare Übungen</p>
                <div class="margin-left-auto position-relative filter">
                    <div id="search-bar" *ngIf="exercises.length !== 0">
                        <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.16667 16.3333C12.8486 16.3333 15.8333 13.3486 15.8333 9.66667C15.8333 5.98477 12.8486 3 9.16667 3C5.48477 3 2.5 5.98477 2.5 9.66667C2.5 13.3486 5.48477 16.3333 9.16667 16.3333Z" stroke="#ADB6BF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17.5 18L13.875 14.375" stroke="#ADB6BF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <input #searchInput id="search-input" [value]="searchInput.value" (input)="searchValue = searchInput.value" placeholder="Suchen" type="text"/>
                    </div>
                    <!-- <app-secondary-button id="filter-button" [ngClass]="{'has-filter': getActiveFilters() !== 0}" [attr.active-filters]="getActiveFilters()" *ngIf="exercises.length > 0" class="secondary-button" [text]="'Filter'" [iconName]="'filter-1'"></app-secondary-button>
                    <div class="undermenu accent-500">
                        <div class="menu-item filter cursor-pointer position-relative">
                            <span class="accent-900">Kategorie</span>
                            <span class="arrow-right">></span>
                            <div class="under-undermenu accent-500">
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('category', 'Schnelligkeit')">
                                    <span>Schnelligkeit</span>
                                    <app-icon *ngIf="filter['category'] && filter['category'].filterValue === 'Schnelligkeit'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('category', 'Koordination')">
                                    <span>Koordination</span>
                                    <app-icon *ngIf="filter['category'] && filter['category'].filterValue === 'Koordination'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('category', 'Ausdauer')">
                                    <span>Ausdauer</span>
                                    <app-icon *ngIf="filter['category'] && filter['category'].filterValue === 'Ausdauer'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('category', 'Kraft')">
                                    <span>Kraft</span>
                                    <app-icon *ngIf="filter['category'] && filter['category'].filterValue === 'Kraft'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                            </div>
                        </div>
                        <div class="menu-item filter cursor-pointer position-relative">
                            <span class="accent-900">Medaille</span>
                            <span class="arrow-right">></span>
                            <div class="under-undermenu accent-500">
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('medal', 'Gold')">
                                    <span>Gold</span>
                                    <app-icon *ngIf="filter['medal'] && filter['medal'].filterValue  === 'Gold'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('medal', 'Silber')">
                                    <span>Silber</span>
                                    <app-icon *ngIf="filter['medal'] && filter['medal'].filterValue  === 'Silber'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                                <div class="menu-item cursor-pointer accent-900" (click)="setFilter('medal', 'Bronze')">
                                    <span>Bronze</span>
                                    <app-icon *ngIf="filter['medal'] && filter['medal'].filterValue  === 'Bronze'" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                            </div>
                        </div>
                        <div class="menu-item filter cursor-pointer position-relative">
                            <span class="accent-900">Trainer</span>
                            <span class="arrow-right">></span>
                            <div class="under-undermenu accent-500">
                                <div class="menu-item cursor-pointer accent-900">
                                    <app-icon [iconName]="'search'" [iconColor]="'var(--accent-300)'" [strokeWidth]="'2'" [iconWidth]="'16'" [iconHeight]="'16'"></app-icon>
                                    <input class="input" placeholder="Suchen" #customTrainerFilter (input)="setFilter('tracked_by', customTrainerFilter.value, false)" [value]="customTrainerFilter.value"/>
                                </div>
                                <div *ngFor="let trainer of getTrackingTrainers(exercises)" class="menu-item cursor-pointer accent-900" (click)="setFilter('tracked_by', trainer)">
                                    <span>{{trainer}}</span>
                                    <app-icon *ngIf="filter['tracked_by'] && filter['tracked_by'].filterValue === trainer" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                            </div>
                        </div>
                        <div class="menu-item filter cursor-pointer position-relative">
                            <span class="accent-900">Datum</span>
                            <span class="arrow-right">></span>
                            <div class="under-undermenu accent-500">
                                <div class="menu-item cursor-pointer accent-900">
                                    <app-icon [iconName]="'search'" [iconColor]="'var(--accent-300)'" [strokeWidth]="'2'" [iconWidth]="'16'" [iconHeight]="'16'"></app-icon>
                                    <input class="input" placeholder="Suchen" #customDateFilter (input)="setFilter('tracked_at', customDateFilter.value, false)" [value]="customDateFilter.value"/>
                                </div>
                                <div *ngFor="let date of getTrackingDates(exercises)" class="menu-item cursor-pointer accent-900" (click)="setFilter('tracked_at', date)">
                                    <span>{{date}}</span>
                                    <app-icon *ngIf="filter['tracked_at'] && filter['tracked_at'].filterValue === date" [iconName]="'check'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'4'" [iconWidth]="'20'" [iconHeight]="'20'"></app-icon>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
                <app-primary-button *ngIf="exercises.length > 0" [text]="'Disziplin hinzufügen'" [iconName]="'plus'"></app-primary-button>
            </div>
            <div id="empty-state" *ngIf="exercises.length === 0; else filledState">
                <img src="assets/img/humans-running.png" alt="placeholder-image">
                <p class="headline-small">Keine Disziplinen vorhanden</p>
                <p class="text-small text-align-center">Erfasse jetzt eine Disziplin in Kraft, Ausdauer, Schnelligkeit oder Koordination.</p>
                <app-primary-button [text]="'Disziplin hinzufügen'" [iconName]="'plus'"></app-primary-button>
            </div>
            <ng-template #filledState>
                <div id="table-wrapper">
                    <div id="table-head">
                        <span>Disziplin</span>
                        <span>Gold</span>
                        <span>Silber</span>
                        <span>Bronze</span>
                        <span>Kategorie</span>
                        <span>Erfassungsdatum</span>
                    </div>
                    <div class="table-item" *ngFor="let exercise of customFilterCall(customFilterCall(exercises, filter, true), {title: {filterValue: searchValue, valueFullFit: false}, gold_value: {filterValue: searchValue, valueFullFit: false}, silver_value: {filterValue: searchValue, valueFullFit: false}, bronze_value: {filterValue: searchValue, valueFullFit: false}, created_at: {filterValue: searchValue, valueFullFit: false} }, false); index as i;">
                        <span>{{exercise.title}}</span>
                        <span>{{exercise.gold_value}}</span>
                        <span>{{exercise.silver_value}}</span>
                        <span>{{exercise.bronze_value}}</span>
                        <span>{{exercise.category.title}}</span>
                        <span>{{exercise.created_at}}</span>
                        <div class="flex items-center more-icon cursor-pointer">
                            <app-icon [iconName]="'more-vertical'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'2'" [iconHeight]="'20'" [iconWidth]="'20'"></app-icon>
                            <div class="undermenu">
                                <div class="menu-item">
                                    <span class="font-size-15 accent-900">Bearbeiten</span>
                                    <app-icon [iconName]="'edit-1'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'2'" [iconHeight]="'15'" [iconWidth]="'15'"></app-icon>
                                </div>
                                <div class="menu-item">
                                    <span class="font-size-15 accent-900">Löschen</span>
                                    <app-icon [iconName]="'delete'" [iconColor]="'var(--accent-500)'" [strokeWidth]="'2'" [iconHeight]="'15'" [iconWidth]="'15'"></app-icon>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>
<app-navbar-bottom [modals]="modals"></app-navbar-bottom>
